# آموزش پایدیتاآنالایزر

**نویسنده:** اصغر مشایخی  
**نسخه:** ۱.۰

<div dir="rtl">

## فهرست مطالب

1. [مقدمه](#مقدمه)
2. [بررسی کلی فایل‌های پروژه](#بررسی-کلی-فایلهای-پروژه)
3. [راهنمای نصب](#راهنمای-نصب)
4. [استفاده پایه](#استفاده-پایه)
5. [آرگومان‌های خط فرمان](#آرگومانهای-خط-فرمان)
6. [مثال‌ها](#مثالها)
7. [توضیح فایل‌های خروجی](#توضیح-فایلهای-خروجی)
8. [سناریوهای استفاده پیشرفته](#سناریوهای-استفاده-پیشرفته)
9. [عیب‌یابی](#عیبیابی)
10. [مشارکت](#مشارکت)

## مقدمه

پایدیتاآنالایزر یک ابزار قدرتمند خط فرمان برای تحلیل فایل‌های داده CSV است. این ابزار امکان تحلیل آماری، فیلتر کردن داده‌ها و قابلیت‌های تجسم سازی برای فایل‌های CSV حاوی داده‌های عددی را فراهم می‌کند. این آموزش شما را در راه‌اندازی و استفاده از پایدیتاآنالایزر، همراه با توضیحات تمام اجزای پروژه راهنمایی خواهد کرد.

ویژگی‌های کلیدی پایدیتاآنالایزر شامل:
- خواندن و تحلیل همزمان چندین فایل CSV
- محاسبه معیارهای آماری برای ستون‌های عددی (میانگین، میانه، حداکثر، حداقل، مجموع، تعداد)
- فیلتر کردن داده‌ها بر اساس شرایط سفارشی
- ایجاد تجسم‌های بصری (نمودارهای میله‌ای و نمودارهای پراکندگی)
- ذخیره نتایج تحلیل در فایل‌های متنی و داده‌های فیلتر شده در فایل‌های CSV
- مدیریت خطای قوی با پیام‌های خطای دقیق

</div>

## بررسی کلی فایل‌های پروژه

<div dir="rtl">

پروژه پایدیتاآنالایزر شامل فایل‌های زیر است:

۱. **analyzer.py**
   - این اسکریپت پایتون اصلی است که حاوی تمام پیاده‌سازی ابزار پایدیتاآنالایزر است.
   - شامل کلاس PyDataAnalyzer با متدهایی برای تحلیل فایل‌های CSV، ایجاد نمودارها و ذخیره نتایج است.
   - شامل پیاده‌سازی رابط خط فرمان با استفاده از argparse است.
   - هدف: عملکرد اصلی پروژه.

۲. **requirements.txt**
   - فهرست وابستگی‌های بسته پایتون مورد نیاز برای پروژه را نشان می‌دهد.
   - شامل pandas، numpy و matplotlib با نسخه‌های مشخص است.
   - هدف: نصب آسان تمام وابستگی‌های مورد نیاز با استفاده از pip.

۳. **README.md**
   - حاوی مستندات پروژه در فرمت مارک‌داون است.
   - شامل ویژگی‌ها، دستورالعمل‌های نصب، مثال‌های استفاده و توضیحات خروجی است.
   - هدف: ارائه مرجع سریع برای کاربران پروژه.

۴. **sample_data.csv**
   - یک فایل CSV نمونه حاوی داده‌های شخصی ساختگی (شناسه، نام، سن، درآمد، هزینه، رضایت).
   - هدف: استفاده برای آزمایش و اهداف نمایشی.

۵. **sample_data2.csv**
   - یک فایل CSV نمونه دوم با ساختار متفاوت (داده‌های محصول).
   - هدف: نشان دادن توانایی ابزار برای مدیریت انواع مختلف داده.

۶. **example.bat / example.sh**
   - فایل‌های اسکریپت برای ویندوز (.bat) و لینوکس/مک‌او‌اس (.sh) که سناریوهای استفاده پایه را نشان می‌دهند.
   - حاوی پنج مثال مختلف است که ویژگی‌های مختلف پایدیتاآنالایزر را نشان می‌دهد.
   - هدف: آسان‌سازی آزمایش سریع عملکرد برای کاربران.

۷. **multi_file_example.bat / multi_file_example.sh**
   - فایل‌های اسکریپت برای ویندوز (.bat) و لینوکس/مک‌او‌اس (.sh) که تحلیل همزمان چندین فایل را نشان می‌دهند.
   - هدف: نمایش سناریوهای استفاده پیشرفته با تحلیل چندین فایل.

۸. **PyDataAnalyzer_Tutorial_Persian.md** (این فایل)
   - آموزش جامع در مورد نحوه استفاده از پروژه.
   - حاوی توضیحات دقیق تمام فایل‌های پروژه و سناریوهای استفاده است.
   - هدف: به عنوان راهنمای کامل برای کاربران.

</div>

## راهنمای نصب

<div dir="rtl">

مراحل زیر را برای راه‌اندازی پایدیتاآنالایزر در سیستم خود دنبال کنید:

۱. **کلون یا دانلود مخزن:**
   
   اگر گیت نصب کرده‌اید، می‌توانید مخزن را کلون کنید:

</div>

```
git clone https://github.com/asgharmashayekhi/PyDataAnalyzer.git
cd PyDataAnalyzer
```

<div dir="rtl">
   
   به طور جایگزین، فایل ZIP را از مخزن دانلود و استخراج کنید.

۲. **نصب پایتون:**
   
   مطمئن شوید که پایتون ۳.۷ یا جدیدتر روی سیستم شما نصب شده است.
   می‌توانید نسخه پایتون خود را با دستور زیر بررسی کنید:

</div>

```
python --version
```

<div dir="rtl">

۳. **نصب وابستگی‌های مورد نیاز:**
   
</div>

```
pip install -r requirements.txt
```

<div dir="rtl">
   
   این دستور موارد زیر را نصب می‌کند:
   - pandas (نسخه ۲.۰.۳): برای دستکاری و تحلیل داده‌ها
   - numpy (نسخه ۱.۲۴.۴): برای عملیات عددی
   - matplotlib (نسخه ۳.۷.۳): برای ایجاد تجسم‌های بصری

۴. **آزمایش نصب:**
   
   یک آزمایش ساده اجرا کنید تا مطمئن شوید همه چیز درست راه‌اندازی شده است:

</div>

```
python analyzer.py sample_data.csv
```

<div dir="rtl">
   
   اگر موفقیت‌آمیز باشد، یک دایرکتوری "output" با نتایج تحلیل ایجاد می‌کند.

</div>

## استفاده پایه

<div dir="rtl">

پایدیتاآنالایزر از خط فرمان اجرا می‌شود. نحو پایه به شرح زیر است:

</div>

```
python analyzer.py [فایل(های)_csv] [گزینه‌ها]
```

<div dir="rtl">

حداقل، شما باید یک یا چند فایل CSV برای تحلیل ارائه دهید.

مثال:

</div>

```
python analyzer.py data.csv
```

<div dir="rtl">

این دستور:
۱. فایل data.csv را می‌خواند
۲. آمار را برای همه ستون‌های عددی محاسبه می‌کند
۳. یک دایرکتوری "output" ایجاد می‌کند (اگر وجود نداشته باشد)
۴. یک فایل گزارش در دایرکتوری خروجی ذخیره می‌کند (analysis_report_YYYYMMDD_HHMMSS.txt)
۵. داده‌ها را در یک فایل CSV فیلتر شده ذخیره می‌کند (data_filtered.csv)

چندین فایل می‌توانند در یک دستور واحد تحلیل شوند:

</div>

```
python analyzer.py file1.csv file2.csv file3.csv
```

<div dir="rtl">

هر فایل به طور جداگانه تحلیل می‌شود، با نتایج ذخیره شده در همان دایرکتوری خروجی.

</div>

## آرگومان‌های خط فرمان

<div dir="rtl">

پایدیتاآنالایزر از آرگومان‌های خط فرمان زیر پشتیبانی می‌کند:

۱. **آرگومان‌های الزامی:**
   - files: یک یا چند فایل CSV برای تحلیل (آرگومان موقعیتی)
     
     مثال: `python analyzer.py file1.csv file2.csv`

۲. **آرگومان‌های اختیاری:**
   - `-o, --output`: دایرکتوری خروجی برای نتایج (پیش‌فرض: "output")
     
     مثال: `python analyzer.py data.csv -o results`

   - `-f, --filter`: شرط فیلتر با استفاده از نحو پرس و جوی pandas
     
     مثال: `python analyzer.py data.csv -f "age > 30 and income < 80000"`

   - `-p, --plot`: نام ستون برای ایجاد نمودار میله‌ای
     
     مثال: `python analyzer.py data.csv -p age`

   - `-sx, --scatter-x`: ستون X برای نمودار پراکندگی
     
     مثال: `python analyzer.py data.csv -sx age -sy income`

   - `-sy, --scatter-y`: ستون Y برای نمودار پراکندگی (باید با sx- استفاده شود)
     
     مثال: `python analyzer.py data.csv -sx age -sy income`

   - `-h, --help`: نمایش پیام راهنما و خروج
     
     مثال: `python analyzer.py --help`

</div>

## مثال‌ها

<div dir="rtl">

در اینجا چندین دستور مثال ارائه شده که قابلیت‌های پایدیتاآنالایزر را نشان می‌دهد:

### مثال ۱: تحلیل پایه

</div>

```
python analyzer.py sample_data.csv
```

<div dir="rtl">

- تمام ستون‌های عددی در sample_data.csv را تحلیل می‌کند
- گزارش‌های آماری برای هر ستون ایجاد می‌کند
- نتایج را در دایرکتوری "output" ذخیره می‌کند

### مثال ۲: فیلتر کردن داده‌ها

</div>

```
python analyzer.py sample_data.csv -f "age > 35"
```

<div dir="rtl">

- تمام ستون‌های عددی در sample_data.csv را تحلیل می‌کند
- فقط ردیف‌هایی را شامل می‌شود که سن > ۳۵ باشد
- داده‌های فیلتر شده و نتایج تحلیل را ذخیره می‌کند

### مثال ۳: ایجاد نمودار میله‌ای

</div>

```
python analyzer.py sample_data.csv -p age
```

<div dir="rtl">

- تمام ستون‌های عددی در sample_data.csv را تحلیل می‌کند
- یک نمودار میله‌ای نشان‌دهنده توزیع ستون "age" ایجاد می‌کند
- نمودار را به عنوان یک فایل PNG در دایرکتوری خروجی ذخیره می‌کند

### مثال ۴: ایجاد نمودار پراکندگی

</div>

```
python analyzer.py sample_data.csv -sx income -sy expenses
```

<div dir="rtl">

- تمام ستون‌های عددی در sample_data.csv را تحلیل می‌کند
- یک نمودار پراکندگی با "income" روی محور x و "expenses" روی محور y ایجاد می‌کند
- نمودار را به عنوان یک فایل PNG در دایرکتوری خروجی ذخیره می‌کند

### مثال ۵: ویژگی‌های ترکیبی

</div>

```
python analyzer.py sample_data.csv -o results -f "income > 70000" -p satisfaction -sx age -sy income
```

<div dir="rtl">

- تمام ستون‌های عددی در sample_data.csv را تحلیل می‌کند
- فقط ردیف‌هایی را شامل می‌شود که درآمد > ۷۰۰۰۰ باشد
- یک نمودار میله‌ای از ستون "satisfaction" ایجاد می‌کند
- یک نمودار پراکندگی از "age" در مقابل "income" ایجاد می‌کند
- همه نتایج را در دایرکتوری "results" ذخیره می‌کند

### مثال ۶: چندین فایل

</div>

```
python analyzer.py sample_data.csv sample_data2.csv -o multi_analysis
```

<div dir="rtl">

- هر دو فایل sample_data.csv و sample_data2.csv را تحلیل می‌کند
- گزارش‌های آماری جداگانه برای هر فایل ایجاد می‌کند
- همه نتایج را در دایرکتوری "multi_analysis" ذخیره می‌کند

</div>

## توضیح فایل‌های خروجی

<div dir="rtl">

پایدیتاآنالایزر چندین فایل خروجی تولید می‌کند:

۱. **گزارش تحلیل (TXT)**
   - نام فایل: analysis_report_YYYYMMDD_HHMMSS.txt
   - شامل:
     * تاریخ و زمان تحلیل
     * اطلاعات نویسنده
     * فهرست ستون‌های عددی شناسایی شده در هر فایل
     * معیارهای آماری برای هر ستون عددی (میانگین، میانه، حداکثر، حداقل، مجموع، تعداد)
     * اطلاعات در مورد فیلترهای اعمال شده
     * مسیرهای تصاویر بصری ایجاد شده

۲. **فایل‌های داده فیلتر شده (CSV)**
   - نام فایل: [نام_فایل_اصلی]_filtered.csv
   - حاوی داده‌ها پس از اعمال هر فیلتر
   - اگر فیلتری اعمال نشود، این فایل با فایل ورودی یکسان خواهد بود

۳. **تجسم‌های نمودار میله‌ای (PNG)**
   - نام فایل: bar_chart_[نام_ستون]_YYYYMMDD_HHMMSS.png
   - توزیع مقادیر در ستون مشخص شده را نشان می‌دهد
   - هنگامی که گزینه p/--plot- استفاده می‌شود، ایجاد می‌شود

۴. **تجسم‌های نمودار پراکندگی (PNG)**
   - نام فایل: scatter_plot_[ستون_x]_vs_[ستون_y]_YYYYMMDD_HHMMSS.png
   - رابطه بین دو ستون عددی را نشان می‌دهد
   - هنگامی که هر دو گزینه sx/--scatter-x- و sy/--scatter-y- استفاده می‌شوند، ایجاد می‌شود

</div>

## سناریوهای استفاده پیشرفته

<div dir="rtl">

### سناریو ۱: فیلتر کردن داده‌ها با چندین شرط

</div>

```
python analyzer.py sample_data.csv -f "age > 30 and income > 50000 and expenses < 30000"
```

<div dir="rtl">

این دستور داده‌ها را بر اساس چندین شرط ترکیب شده با عملگرهای منطقی فیلتر می‌کند.

### سناریو ۲: چندین فایل با گزینه‌های مختلف

</div>

```
python analyzer.py sample_data.csv -p age -o age_analysis
python analyzer.py sample_data.csv -sx income -sy expenses -o income_expenses_analysis
```

<div dir="rtl">

این دستورات همان فایل را به روش‌های مختلف تحلیل می‌کنند و نتایج را در دایرکتوری‌های خروجی جداگانه ذخیره می‌کنند.

### سناریو ۳: پردازش دسته‌ای

می‌توانید یک فایل دسته‌ای یا اسکریپت شل برای پردازش چندین فایل با گزینه‌های مختلف ایجاد کنید:

</div>

```bash
# مثال فایل دسته‌ای ویندوز (process_all.bat)
python analyzer.py data1.csv -o results/data1
python analyzer.py data2.csv -o results/data2
python analyzer.py data3.csv -p age -o results/data3_age_analysis
```

<div dir="rtl">

### سناریو ۴: استفاده به عنوان یک ماژول در اسکریپت‌های پایتون دیگر

همچنین می‌توانید کلاس PyDataAnalyzer را در اسکریپت‌های پایتون خود وارد کنید:

</div>

```python
from analyzer import PyDataAnalyzer

# ایجاد نمونه تحلیلگر
analyzer = PyDataAnalyzer()

# تحلیل یک فایل
analyzer.analyze_file('data.csv')

# دریافت داده‌های تحلیل شده
data = analyzer.data

# اعمال تبدیل‌ها یا تحلیل‌های سفارشی
# ...

# ذخیره نتایج
analyzer.save_results('custom_output')
```

## عیب‌یابی

<div dir="rtl">

### مشکلات رایج و راه‌حل‌ها

۱. **وابستگی‌های گم شده**
   - مشکل: خطاهای وارد کردن هنگام اجرای اسکریپت
   - راه‌حل: اطمینان حاصل کنید که تمام وابستگی‌ها را با `pip install -r requirements.txt` نصب کرده‌اید

۲. **خطاهای فایل یافت نشد**
   - مشکل: اسکریپت نمی‌تواند فایل CSV را پیدا کند
   - راه‌حل: مسیر فایل را بررسی کنید و مطمئن شوید که فایل در مکان مشخص شده وجود دارد

۳. **فرمت CSV نامعتبر**
   - مشکل: اسکریپت خطاهایی در خواندن فایل CSV گزارش می‌کند
   - راه‌حل: تأیید کنید که فایل CSV شما دارای یک ردیف سرصفحه است و به درستی فرمت‌بندی شده است

۴. **ستون برای رسم نمودار پیدا نشد**
   - مشکل: اسکریپت نمی‌تواند ستون مشخص شده برای رسم نمودار را پیدا کند
   - راه‌حل: بررسی کنید که نام ستون دقیقاً (حساس به حروف کوچک و بزرگ) با سرصفحه در فایل CSV شما مطابقت دارد

۵. **نحو فیلتر نامعتبر**
   - مشکل: شرط فیلتر باعث یک خطا می‌شود
   - راه‌حل: اطمینان حاصل کنید که فیلتر شما از نحو پرس و جوی pandas پیروی می‌کند و به ستون‌هایی اشاره می‌کند که در داده‌های شما وجود دارند

### دریافت کمک

اگر با مشکلی مواجه شدید که در این بخش پوشش داده نشده است، لطفاً:
1. مخزن GitHub را برای مشکلات شناخته شده بررسی کنید
2. یک مشکل جدید با توضیح دقیق مشکل خود ارسال کنید
3. هر پیام خطا و دستور دقیقی که در حال تلاش برای اجرای آن بودید را شامل کنید

</div>

## مشارکت

<div dir="rtl">

مشارکت در پایدیتاآنالایزر مورد استقبال قرار می‌گیرد! نحوه مشارکت به شرح زیر است:

۱. **فورک کردن مخزن**
   - فورک خود را از پروژه در GitHub ایجاد کنید

۲. **ایجاد یک شاخه ویژگی**
   - تغییرات خود را در یک شاخه جدید انجام دهید: `git checkout -b feature/your-feature-name`

۳. **ثبت تغییرات خود**
   - پیام‌های ثبت واضح و مختصر بنویسید که تغییرات شما را توصیف کند

۴. **ارسال به شاخه خود**
   - تغییرات خود را به فورک خود ارسال کنید: `git push origin feature/your-feature-name`

۵. **ایجاد یک درخواست ادغام (Pull Request)**
   - یک درخواست ادغام به مخزن اصلی ارسال کنید

### دستورالعمل‌های توسعه

- از دستورالعمل‌های سبک PEP 8 برای کد پایتون پیروی کنید
- برای تمام توابع و کلاس‌ها docstring اضافه کنید
- برای ویژگی‌های جدید آزمون‌های واحد شامل کنید
- مستندات را برای منعکس کردن هر تغییر به‌روز کنید

با تشکر از استفاده شما از پایدیتاآنالایزر!

</div> 